<!--
   SweetHome3DJSViewerInOverlay.html  version 7.5
   
   Sweet Home 3D, Copyright (c) 2024 Space Mushrooms <info@sweethome3d.com>
   
   This program is free software; you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation; either version 2 of the License, or
   (at your option) any later version.
 
   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.

   You should have received a copy of the GNU General Public License
   along with this program; if not, write to the Free Software
   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>View home with Sweet Home 3D JS Viewer</title>

<!--  Copy the following scripts in your page header -->
<script type="text/javascript" src="lib/big.min.js"></script>
<script type="text/javascript" src="lib/gl-matrix-min.js"></script>
<script type="text/javascript" src="lib/jszip.min.js"></script>
<script type="text/javascript" src="lib/core.min.js"></script>
<script type="text/javascript" src="lib/geom.min.js"></script>
<script type="text/javascript" src="lib/stroke.min.js"></script>
<script type="text/javascript" src="lib/batik-svgpathparser.min.js"></script>
<script type="text/javascript" src="lib/jsXmlSaxParser.min.js"></script>
<script type="text/javascript" src="lib/triangulator.min.js"></script>
<script type="text/javascript" src="lib/viewmodel.min.js"></script>
<script type="text/javascript" src="lib/viewhome.min.js"></script>

<style type="text/css">
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  width: 100%;
  height: 100%;
  overflow: hidden;
}

/* The class of components handled by the viewer */
.viewerComponent {
}

/* Footer styling */
.footer {
  position: fixed;
  bottom: 5px;
  left: 0;
  right: 0;
  text-align: center;
  font-size: 12px;
  z-index: 1000;
  color: #666;
}

.footer a {
  color: #0066cc;
  text-decoration: none;
}

/* Operation instructions */
.operation-instructions {
  position: fixed;
  top: 10px;
  left: 10px;
  background-color: rgba(0, 0, 0, 0.75);
  color: white;
  padding: 15px 20px;
  border-radius: 8px;
  font-size: 14px;
  z-index: 1000;
  max-width: 350px;
  line-height: 1.6;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

.operation-instructions h4 {
  margin: 0 0 10px 0;
  font-size: 16px;
  color: #ffd700;
}

.operation-instructions ul {
  margin: 5px 0;
  padding-left: 20px;
}

.operation-instructions li {
  margin: 5px 0;
}

.operation-instructions .mode-label {
  color: #90EE90;
  font-weight: bold;
}

.operation-instructions .close-btn {
  position: absolute;
  top: 5px;
  right: 10px;
  background: none;
  border: none;
  color: white;
  font-size: 20px;
  cursor: pointer;
  padding: 0;
  width: 25px;
  height: 25px;
  line-height: 20px;
}

.operation-instructions .close-btn:hover {
  color: #ff6b6b;
}

/* Responsive font size for mobile */
@media (max-width: 768px) {
  .footer {
    font-size: 10px;
    bottom: 2px;
  }
  
  .operation-instructions {
    top: 5px;
    left: 5px;
    right: 5px;
    max-width: none;
    padding: 12px 15px;
    font-size: 13px;
  }
  
  .operation-instructions h4 {
    font-size: 15px;
  }
}

/* Hide the close button (X) in overlay */
.viewerComponent[type="button"][value="Ã—"],
button[onclick*="closeHomeOverlay"],
input[type="button"][value="Ã—"],
.close-button,
[aria-label="Close"],
[title="Close"] {
  display: none !important;
  visibility: hidden !important;
}
</style>
</head>

<body>
<!-- Operation Instructions -->
<div id="operationInstructions" class="operation-instructions">
  <button class="close-btn" onclick="document.getElementById('operationInstructions').style.display='none'">âœ•</button>
  <h4>ğŸ“± æ“ä½œèªªæ˜</h4>
  <div id="instructionsContent"></div>
</div>

<div class="footer">
  <a href="http://www.sweethome3d.com">Sweet Home 3D</a> JS Viewer / Version 7.5 - Distributed under GNU General Public License
</div>

<script type="text/javascript">
  // Detect device type
  function isMobileOrTablet() {
    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) 
           || window.innerWidth <= 768;
  }
  
  // Display operation instructions based on device type
  function showInstructions() {
    var instructionsDiv = document.getElementById('instructionsContent');
    var isMobile = isMobileOrTablet();
    
    if (isMobile) {
      // Mobile/Tablet instructions
      instructionsDiv.innerHTML = 
        '<p><span class="mode-label">ğŸ”„ åˆ‡æ›æ¨¡å¼ï¼š</span>é»æ“Šä¸‹æ–¹æŒ‰éˆ•</p>' +
        '<p><span class="mode-label">é³¥ç°è¦–åœ–ï¼š</span></p>' +
        '<ul>' +
        '<li>å–®æŒ‡æ‹–æ›³ï¼šæ—‹è½‰è¦–è§’</li>' +
        '<li>é›™æŒ‡ç¸®æ”¾ï¼šæ”¾å¤§/ç¸®å°</li>' +
        '<li>âŒ ç„¡æ³•å¹³ç§»</li>' +
        '</ul>' +
        '<p><span class="mode-label">è™›æ“¬åƒè§€ï¼š</span></p>' +
        '<ul>' +
        '<li>å–®æŒ‡æ‹–æ›³ï¼šæ”¹è®Šè¦–è§’</li>' +
        '<li>å°èˆªæŒ‰éˆ•ï¼šç§»å‹•ä½ç½®</li>' +
        '<li>é›™æŒ‡ç¸®æ”¾ï¼šæ”¾å¤§/ç¸®å°</li>' +
        '</ul>';
    } else {
      // Desktop instructions
      instructionsDiv.innerHTML = 
        '<p><span class="mode-label">ğŸ”„ åˆ‡æ›æ¨¡å¼ï¼š</span>æŒ‰ç©ºç™½éµæˆ–é»æ“Šä¸‹æ–¹æŒ‰éˆ•</p>' +
        '<p><span class="mode-label">é³¥ç°è¦–åœ–ï¼š</span></p>' +
        '<ul>' +
        '<li>æ»‘é¼ å·¦éµæ‹–æ›³ï¼šæ—‹è½‰è¦–è§’</li>' +
        '<li>æ»‘é¼ æ»¾è¼ªï¼šæ”¾å¤§/ç¸®å°</li>' +
        '<li>âŒ ç„¡æ³•å¹³ç§»</li>' +
        '</ul>' +
        '<p><span class="mode-label">è™›æ“¬åƒè§€ï¼š</span></p>' +
        '<ul>' +
        '<li>æ–¹å‘éµ â† â†’ â†‘ â†“ï¼šç§»å‹•</li>' +
        '<li>æ»‘é¼ æ‹–æ›³ï¼šæ”¹è®Šè¦–è§’</li>' +
        '<li>æ»‘é¼ æ»¾è¼ªï¼šå‰é€²/å¾Œé€€</li>' +
        '</ul>';
    }
  }
  
  // Auto-load the 3D viewer on page load
  window.addEventListener('load', function() {
    // Show instructions
    showInstructions();
    
    // Calculate responsive width/height ratio
    var widthByHeightRatio = window.innerWidth / window.innerHeight;
    
    // Determine if mobile device
    var isMobile = isMobileOrTablet();
    
    // Custom controls HTML with larger buttons for mobile
    var controlsHTML = '<style>' +
      '.viewer-controls { margin-top: 10px; }' +
      '.viewer-controls input[type="radio"] { ' +
      '  width: ' + (isMobile ? '18px' : '14px') + '; ' +
      '  height: ' + (isMobile ? '18px' : '14px') + '; ' +
      '  margin-right: 5px; ' +
      '  cursor: pointer; ' +
      '}' +
      '.viewer-controls label { ' +
      '  font-size: ' + (isMobile ? '16px' : '14px') + '; ' +
      '  margin-right: ' + (isMobile ? '20px' : '15px') + '; ' +
      '  cursor: pointer; ' +
      '  user-select: none; ' +
      '}' +
      '</style>';
    
    viewHomeInOverlay("default.sh3d",               
              {roundsPerMinute:    1,                              /* Rotation speed of the animation launched once home is loaded in rounds per minute, no animation if missing */ 
               widthByHeightRatio: widthByHeightRatio,             /* Size ratio of the displayed canvas - responsive */
               navigationPanel: "default",                         /* Displayed navigation arrows, "none" or "default" for default one or an HTML string containing elements with data-simulated-key 
                                                                      attribute set "UP", "DOWN", "LEFT", "RIGHT"... to replace the default navigation panel, "none" if missing */
               viewerMode: "VIRTUAL_VISIT",                        /* Start in virtual visit mode for better navigation control */
               aerialViewButtonText: "é³¥ç°è¦–åœ–",                     /* Text displayed for aerial view radio button, no radio buttons if missing */ 
               virtualVisitButtonText: "è™›æ“¬åƒè§€",                   /* Text displayed for virtual visit radio button, no radio buttons if missing */
            /* level: "Roof", */                                   /* Uncomment to select the displayed level, default level if missing */
            /* selectableLevels: ["Ground floor", "Roof"], */      /* Uncomment to choose the list of displayed levels, no select component if empty array */
            /* camera: "Exterior view", */                         /* Uncomment to select a camera, default camera if missing */
            /* selectableCameras: ["Exterior view", "Kitchen"], */ /* Uncomment to choose the list of displayed cameras, no camera if missing */
               activateCameraSwitchKey: true,                      /* Switch between top view / virtual visit with space bar if not false or missing */
               viewerControlsAdditionalHTML: controlsHTML,         /* Additional HTML text appended to controls displayed below the canvas 3D */
               readingHomeText: "è®€å–ä¸­",                           /* Comment displayed while reading home */
               readingModelText: "æ¨¡å‹",                            /* Comment displayed while reading models */
               noWebGLSupportError: "æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´ WebGL"         /* Error message displayed if the browser do not support WebGL */
              });
  });
  
  // Handle window resize for responsive design
  window.addEventListener('resize', function() {
    // Update instructions on resize
    showInstructions();
  });
</script>
</body>
</html>
